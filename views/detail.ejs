<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.9.1/font/bootstrap-icons.min.css" integrity="sha512-5PV92qsds/16vyYIJo3T/As4m2d8b6oWYfoqV+vtizRB6KhF1F9kYzWzQmsO6T3z3QG2Xdhrx7FQ+5R1LiQdUA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
 
<!-- Main container will all the other elements-->
<div class="container">

<!-- Navigation bar containing Details and View links-->
<nav class="navbar navbar-expand-lg bg-light">
    <div class="container-fluid">
      <!-- <a class="navbar-brand" href="#"><%= title%></a> -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav nav-tabs">
          <li class="nav-item">
              <% if (detailActive) { %>
                <a class="nav-link active" aria-current="page" href="/detail">Detail View</a>
            <% } else { %>
                <a class="nav-link" aria-current="page" href="/detail">Detail View</a>
            <% } %>
          </li>
          <li class="nav-item">
            <% if (!detailActive) { %>
                <a class="nav-link active" aria-current="page" href="/week">Week View</a>
            <% } else { %>
                <a class="nav-link" aria-current="page" href="/week">Week View</a>
            <% } %>
          </li>
        </ul>
      </div>
    </div>
  </nav>
<br>

<!-- Detail Page-->
<% if (detailActive) { %>
  <div class="row">
      <div class="col-10"><img src="/quote.PNG" class="img-fluid"></div>    
      <button type="button" class="btn btn-primary col-2" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="bi bi-plus-circle"></i> Add habit</button>
  </div>
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Add new habit</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <div class="row g-3">
                  <div class="col">
                    <input type="text" class="form-control" placeholder="habit" id="HabitName" aria-label="habitname">
                  </div>
                  <div class="col">
                    <input type="time" class="form-control" placeholder="Time" id="HabitTime" aria-label="time">
                  </div>
                </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" onclick="AddHabit()">Save changes</button>
          </div>
        </div>
      </div>
    </div>
    <% habits.forEach(element => { %>
        <br>
        <div class="card">
            <div class="card-header">
                <!-- <h4><%= element.Name %></h4> -->
                <div class="row g-3">
                  <h4 class="col-11">
                      <%= element.Name %>
                  </h4>
                  <div class="col-1">
                      <button class="btn btn-danger" onclick="deleteHabit('<%= element.ID %>')">
                          <i class="bi bi-trash3"></i>
                      </button>
                  </div>
              </div>
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <div class="col">Time : <%= element.Time %></div>
                    <div class="col">Current Streak : <%= element.Current %></div>
                    <div class="col">Best Streak : <%= element.BestStreak %></div>
                    <div class="col">Efficiency : <%= element.TotalDone %> / <%= element.TotalTracked %></div>
                </div>
            </div>
        </div>
    <% }); %> 
     
<!-- View Page-->
    <% } else { %>
      <br>
      <div class="container">
          <div class="row g-3">
              <div class="col-4"></div>
              <div class="col-4">
                  <input type="week" class="form-control weekselector" name="" id="week" value="2022-W42" />
              </div>
              <div class="col-4"></div>
          </div>
          <% habits.forEach(element=> { %>
              <br>
              <div class="card habit">
                  <div class="card-header">
                      <h4>
                          <%= element.Name %>
                      </h4>
                  </div>
                  <div class="card-body">
                      <div class="row g-3">
                          <div class="col">Time : <%= element.Time %>
                          </div>
                          <div class="col d-none" id="ID">
                              <%= element.ID %>
                          </div>
                          <div class="col">Current Streak : <%= element.Current %>
                          </div>
                          <div class="col">Best Streak : <%= element.BestStreak %>
                          </div>
                          <div class="col">Efficiency : <%= element.TotalDone %> / <%= element.TotalTracked %>
                          </div>
                      </div>
                      <div class="row g-3 calenderArea" id="calender">                          
                   </div>
                  </div>
              </div>
              <% }) %>
      </div>
      <% } %> 
</div>



<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" 
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" 
    integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>
    <script src="page.js"></script>

    